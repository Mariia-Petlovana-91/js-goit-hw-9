{"version":3,"file":"2-form-5c208c39.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const refs = {\n\tform: document.querySelector('.form-js'),\n};\n\n\nrefs.form.addEventListener('input', collectFieldValues);\nrefs.form.addEventListener('submit', sendForm);\n\nconst STORAGE_KEY = \"feedback-form-state\";\nlet formData = {};\n\n\nfunction getDataFromLocalStorage() {\n\tconst dataFromLocalStorage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\tif (dataFromLocalStorage) {\n\t\tformData = dataFromLocalStorage;\n\t\tfor (let key in dataFromLocalStorage) {\n\t\t\tif (dataFromLocalStorage.hasOwnProperty(key)) {\n\t\t\t\trefs.form.elements[key].value = dataFromLocalStorage[key];\n\t\t\t}\n\t\t}\n\t}\n}\n\ngetDataFromLocalStorage();\n\nfunction collectFieldValues(e) {\n\tformData[e.target.name] = e.target.value.trim();\n\tlocalStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction sendForm(e) {\n\te.preventDefault();\n\n\tconst allFieldsFilled = [...refs.form.elements].every(element => {\n\t\treturn element.name === \"\" || element.value.trim() !== \"\";\n\t});\n\n\tif (!allFieldsFilled) {\n\t\talert(\"Fill please all fields\");\n\t\treturn;\n\t}\n\n\tconsole.log(formData);\n\te.currentTarget.reset();\n\tlocalStorage.removeItem(STORAGE_KEY);\n\tformData = {};\n}"],"names":["refs","collectFieldValues","sendForm","STORAGE_KEY","formData","getDataFromLocalStorage","dataFromLocalStorage","key","element"],"mappings":"yEAAA,MAAMA,EAAO,CACZ,KAAM,SAAS,cAAc,UAAU,CACxC,EAGAA,EAAK,KAAK,iBAAiB,QAASC,CAAkB,EACtDD,EAAK,KAAK,iBAAiB,SAAUE,CAAQ,EAE7C,MAAMC,EAAc,sBACpB,IAAIC,EAAW,CAAA,EAGf,SAASC,GAA0B,CAClC,MAAMC,EAAuB,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,EACzE,GAAIG,EAAsB,CACzBF,EAAWE,EACX,QAASC,KAAOD,EACXA,EAAqB,eAAeC,CAAG,IAC1CP,EAAK,KAAK,SAASO,CAAG,EAAE,MAAQD,EAAqBC,CAAG,EAG1D,CACF,CAEAF,IAEA,SAASJ,EAAmB,EAAG,CAC9BG,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,aAAa,QAAQD,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC3D,CAEA,SAASF,EAAS,EAAG,CAOpB,GANA,EAAE,eAAc,EAMZ,CAJoB,CAAC,GAAGF,EAAK,KAAK,QAAQ,EAAE,MAAMQ,GAC9CA,EAAQ,OAAS,IAAMA,EAAQ,MAAM,KAAM,IAAK,EACvD,EAEqB,CACrB,MAAM,wBAAwB,EAC9B,MACA,CAED,QAAQ,IAAIJ,CAAQ,EACpB,EAAE,cAAc,QAChB,aAAa,WAAWD,CAAW,EACnCC,EAAW,CAAA,CACZ"}